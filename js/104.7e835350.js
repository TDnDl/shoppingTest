"use strict";(self["webpackChunkhm_shopping"]=self["webpackChunkhm_shopping"]||[]).push([[104],{3104:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});s(4114);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search"},[e("van-nav-bar",{attrs:{fixed:"",title:"商品列表","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),e("van-search",{attrs:{readonly:"",shape:"round",background:"#ffffff",value:t.querySearch||"搜索商品","show-action":""},on:{click:function(e){return t.$router.push("/search")}},scopedSlots:t._u([{key:"action",fn:function(){return[e("van-icon",{staticClass:"tool",attrs:{name:"apps-o"}})]},proxy:!0}])}),e("div",{staticClass:"sort-btns"},t._l(t.typeList,(function(s){return e("div",{key:s,class:{active:t.sortType===s,"sort-item":!0},on:{click:function(e){return t.getProListWithType(s)}}},[t._v(t._s(s))])})),0),e("div",{staticClass:"goods-list"},t._l(t.proList,(function(t){return e("GoodsItem",{key:t.goods_id,attrs:{item:t}})})),1)],1)},r=[],a=s(7867),n=s(3947),i={name:"SearchList",components:{GoodsItem:n.A},data(){return{typeList:["综合","销量","价格"],sortType:"",page:1,proList:[]}},computed:{querySearch(){return this.$route.query.search}},methods:{async getProListWithType(t){this.sortType=t;const{data:{list:e}}=await(0,a.Cd)({sortType:this.sortType,categoryId:this.$route.query.categoryId,goodsName:this.querySearch,page:this.page});this.proList=e.data}},created(){this.getProListWithType("综合")}},c=i,u=s(1656),d=(0,u.A)(c,o,r,!1,null,"5d470da4",null),p=d.exports},7867:function(t,e,s){s.d(e,{B7:function(){return a},Cd:function(){return r},Nd:function(){return n}});var o=s(5720);const r=t=>{const{sortType:e,categoryId:s,goodsName:r,page:a}=t;return o.A.get("/goods/list",{params:{sortType:e,categoryId:s,goodsName:r,page:a}})},a=t=>o.A.get("/goods/detail",{params:{goodsId:t}}),n=(t,e)=>o.A.get("/comment/listRows",{params:{goodsId:t,limit:e}})}}]);
//# sourceMappingURL=104.7e835350.js.map