"use strict";(self["webpackChunkhm_shopping"]=self["webpackChunkhm_shopping"]||[]).push([[560],{6560:function(e,s,t){t.r(s),t.d(s,{default:function(){return c}});var a=function(){var e=this,s=e._self._c;return s("div",{staticClass:"address"},[s("van-nav-bar",{attrs:{title:"收货地址","left-arrow":""},on:{"click-left":function(s){return e.$router.go(-1)}}}),e.isLogin&&e.addressList.length>0?s("div",{staticClass:"address-body"},[s("div",{staticClass:"address-title"},[s("span",{staticClass:"all"},[e._v("共"),s("i",[e._v(e._s(e.addressList.length||0))]),e._v("条地址")]),s("span",{on:{click:e.addAddressWindow}},[s("van-icon",{attrs:{name:"add"}}),e._v(" 添加 ")],1)]),s("div",{staticClass:"address-list"},e._l(e.addressList,(function(t){return s("div",{key:t.address_id,staticClass:"address-item"},[s("div",{staticClass:"address-body",on:{click:function(s){return e.useAddress(t.address_id)}}},[s("div",{staticClass:"top"},[s("span",{staticClass:"name"},[e._v("姓名："+e._s(t.name))]),s("span",{staticClass:"phone"},[e._v("手机号："+e._s(t.phone))])]),s("div",{staticClass:"middle"},[s("div",{staticClass:"province"},[s("span",[e._v("省份："+e._s(t.region.province))])]),s("div",{staticClass:"city"},[s("span",[e._v("城市："+e._s(t.region.city))])]),s("div",{staticClass:"region"},[s("span",[e._v("县区："+e._s(t.region.region))])])])]),s("div",{staticClass:"bottom"},[s("div",{staticClass:"detail"},[s("span",[e._v("详细地址："+e._s(t.detail))])]),s("span",{staticClass:"delete",on:{click:function(s){return e.handleDel(t.address_id)}}},[s("van-icon",{attrs:{name:"delete"}}),e._v("删除")],1)])])})),0)]):s("div",{staticClass:"empty-address"},[s("div",{staticClass:"tips"},[e._v(" 地址为空 ")])]),s("van-action-sheet",{attrs:{title:"新增地址"},model:{value:e.showPannel,callback:function(s){e.showPannel=s},expression:"showPannel"}},[s("div",{staticClass:"addressinp"},[s("div",{staticClass:"input-title"},[s("div",{staticClass:"input-body"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.Newname,expression:"Newname"}],staticClass:"inp",attrs:{placeholder:"姓名",type:"text"},domProps:{value:e.Newname},on:{input:function(s){s.target.composing||(e.Newname=s.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.NewPhone,expression:"NewPhone"}],staticClass:"inp",attrs:{maxlength:"11",placeholder:"手机号",type:"text"},domProps:{value:e.NewPhone},on:{input:function(s){s.target.composing||(e.NewPhone=s.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.NewProvince,expression:"NewProvince"}],staticClass:"inp",attrs:{placeholder:"省份",type:"text"},domProps:{value:e.NewProvince},on:{input:function(s){s.target.composing||(e.NewProvince=s.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.NewCity,expression:"NewCity"}],staticClass:"inp",attrs:{placeholder:"城市",type:"text"},domProps:{value:e.NewCity},on:{input:function(s){s.target.composing||(e.NewCity=s.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.NewRegion,expression:"NewRegion"}],staticClass:"inp",attrs:{placeholder:"县区",type:"text"},domProps:{value:e.NewRegion},on:{input:function(s){s.target.composing||(e.NewRegion=s.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.NewDetail,expression:"NewDetail"}],staticClass:"inp",attrs:{placeholder:"详细地址",type:"text"},domProps:{value:e.NewDetail},on:{input:function(s){s.target.composing||(e.NewDetail=s.target.value)}}})])]),s("div",{staticClass:"showbtn"},[s("div",{staticClass:"btn",on:{click:e.close}},[e._v("关闭")]),s("div",{staticClass:"btn now",on:{click:e.add}},[e._v("添加")])])])])],1)},i=[],n=t(3518),d={name:"addressPage",data(){return{showPannel:!1,Newname:"",NewPhone:"",NewProvince:"",NewCity:"",NewRegion:"",NewDetail:""}},computed:{...(0,n.aH)("address",["addressList"]),isLogin(){return this.$store.getters.token}},methods:{getAddressList(){this.isLogin&&this.$store.dispatch("address/getAddressAction")},async deleteAddress(e){await this.$store.dispatch("address/deleteAddress",e),this.$router.go(0)},handleDel(e){e&&this.$dialog.confirm({title:"删除地址",message:"是否确认删除该地址",confirmButtonText:"确认",cancelButtonText:"取消"}).then((()=>{this.deleteAddress(e)})).catch((()=>{}))},addAddressWindow(){this.showPannel=!0},close(){this.showPannel=!1},add(){this.$store.dispatch("address/addAddressList",{name:this.Newname,phone:this.NewPhone,region:[{value:782,label:this.NewProvince},{value:783,label:this.NewCity},{value:785,label:this.NewRegion}],detail:this.NewDetail}),this.showPannel=!1},useAddress(e){this.$store.dispatch("address/setDefAddress",e),this.$router.go(-1)}},created(){this.getAddressList()}},o=d,l=t(1656),r=(0,l.A)(o,a,i,!1,null,"75f62700",null),c=r.exports}}]);
//# sourceMappingURL=560.7c0ce25f.js.map